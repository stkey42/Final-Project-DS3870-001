function getSessionDetails(strSessionID,callback){
 pool.query('SELECT * FROM tblSessions LEFT JOIN tblUsers ON tblSessions.UserID = tblUsers.Email LEFT JOIN tblFarmAssignment ON tblSessions.UserID = tblFarmAssignment.User WHERE SessionID = ?',[strSessionID], function(error, results){
 if(!error){
 let objFarm;
 getFarmByID(strFarmID,function(objReturnedFarm){
 objFarm = objReturnedFarm;
 })
 let objUser = new User(results[0].Email,results[0].FirstName,results[0].LastName,results[0].MobileNumber,objFarm,results[0].IsOwner);
 let objSession = new Session(results[0].SessionID,objUser,results[0].StartDateTime,null);
 return objSession;
 } else {
 return null;
 }
 })
}
 
// Example function using the async pool.query with a callback
function getFarmByID(strFarmID,callback){
 pool.query('SELECT * FROM tblFarms WHERE FarmID = ?',[strFarmID], function(error, results){
 if(!error){
 if(results.length > 0){
 callback(new Farm(results[0].FarmID,results[0].FarmName,results[0].StreetAddress1,results[0].StreetAddress2,results[0].City,results[0].State,results[0].ZIP));
 } else {
 callback(null);
 }
 } else {
 callback(null);
 }
 })
}
function getFarmByUserID(strUserID,callback){
 pool.query('SELECT tblFarms.* FROM tblFarmAssignment LEFT JOIN tblFarm ON tblFarmAssignment.FarmID = tblFarm.FarmID WHERE User = ?',[strUserID], function(error, results){
 if(!error){
 if(results.length > 0){
 callback(new Farm(results[0].FarmID,results[0].FarmName,results[0].StreetAddress1,results[0].StreetAddress2,results[0].City,results[0].State,results[0].ZIP));
 } else {
 callback(null);
 }
 } else {
 callback(null);
 }
 })
}
function getUserBySessionID(strSessionID,callback){
 pool.query('SELECT * FROM tblUsers LEFT JOIN tblFarmAssignments ON tblUsers.Email = tblFarmAssingments.User LEFT JOIN tblFarms ON tblFarmAssignments.FarmID = tblFarms.FarmID WHERE Email = (SELECT UserID FROM tblSessions WHERE SessionID = ?',[strSessionID], function(error, results){
 if(!error){
 if(results.length > 0){
 console.log(results);
 callback(new User(results[0].Email,results[0].FirstName,results[0].LastName,results[0].MobileNumber,null,null));
 } else {
 callback(null);
 }
 } else {
 callback(null);
 }
 })
}